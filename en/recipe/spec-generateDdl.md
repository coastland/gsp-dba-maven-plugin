# generate-ddl Goal Specification

## Use `extraDdlDirectory` for advanced specification of auto-numbering

When generate-ddl is executed, columns that are determined to be auto-numbered are designated.
A column is determined to be auto-numbered when the following conditions are **all satisfied**.See [Source code](../../src/main/java/jp/co/tis/gsp/tools/db/beans/Column.java#L74) also.

- Single primary key
- Not a foreign key
- Data type is numeric
- Column name ends with "_ID" (not case sensitive)

Currently, there is no way for not auto-numbering a column that meets all the above conditions.

Therefore, use the extraDdlDirectory option to make a special designation.
Run the SQL file that is appropriate for the DB product used.
See [execute-ddl goal](../README.md#execute-ddl) for the specification method.

The SQL file specified by `extraDdlDirectory` is called after all the SQL files generated by `generate-ddl` have been executed.

The following is an example script to remove the internal sequence for auto-numbering by canceling the auto-numbering defined by `SERIAL` in the `project_id` column of the `project` table in PostgreSQL.


```sql
-- http://www.postgresql.org/message-id/a55915760705110936j1ee5bb67oe366c9161c92fc33@mail.gmail.com
ALTER TABLE project ALTER COLUMN project_id DROP DEFAULT;
ALTER SEQUENCE project_project_id_seq OWNED BY NONE;
DROP SEQUENCE project_project_id_seq;
```
